<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Favicon Grabber</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <script type="text/javascript">
    function isValidURL(string) {
      let res = string.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g);
      return (res !== null)
    }

    function startIT() {

      let myurl = document.getElementById("urltext").value;

      if (myurl == "") {

        alert("Please Enter URL");

      }

      else if (myurl !== "" && isValidURL(myurl) == true) {
        grabFAV();
      }

      else {
        alert("Please Enter Valid URL");
      }

    }

    function grabFAV() {
      let myurl = document.getElementById("urltext").value;
      let myimg = document.getElementById("theimg");
      let mysize = document.getElementById("size").value;
      let duckapi = "https://icons.duckduckgo.com/ip3/";
      let gapi = "https://s2.googleusercontent.com/s2/favicons?domain=";
      if (mysize == "default") {
        let h1 = "https://";
        let h2 = "http://";

        myurl = myurl.replace(h1, "");
        myurl = myurl.replace(h2, "");

        myimg.src = duckapi + myurl + ".ico";
      }

      else {

        myimg.src = gapi + myurl + "&sz="+mysize;
      }    

    }
  </script>
  <div class="grid">
    <h2 align="center">Favicon Grabber</h2>
    <center> <img src="" id="theimg"></center><br>

    <select id="size">
      <option value="default">Default Size</option>
      <option value="16">16x16</option>
      <option value="32">32x32</option>
      <option value="48">48x48</option>
      <option value="64">64x64</option>
      <option value="128">128x128</option>
    </select><br><br>
    <input type="text" placeholder="Enter URL" id="urltext">
    <br><br>
    <input type="submit" value="Grab" onClick="startIT()">
    <p>Developed By <a href="https://mandy-1.github.io/cv/">Mandeep Singh</a> | <a
      href="https://www.linkedin.com/in/mandeep-singh-759340212/">LinkedIn</a></p>
  </div>
</body>

</html>